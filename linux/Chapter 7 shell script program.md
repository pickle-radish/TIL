# Chapter 7 Shell Script Program

셸은 가장 기본적인 명령어 세트

<br>

#### bash 셸

Bourne Shell을 기반으로 Korn Shell과 C Shell의 좋은 점을 합한 것

특징

- 연산기능
- 명령 편집 기능
- 자동 이름 완성 기능
- 프롬프트 제어 기능
- History 기능



#### 환경 변수

`echo $환경변수 이름` 형식으로 환경변수를 확인 할 수 있다 주요 환경변수는 정해져 있다

변경 방법은 `echo $환경변수=값` 형식으로 실행하고 환경변수는 printenv 명령어로 확인 할 수 있다



### 프로그래밍 실행

---

name.sh 파일 생성

```shell
#!/bin/sh
echo "사용자 이름" : $USER
echo "홈 디렉터리" : $HOME
exit 0
```

1행은 특별한 형태의 주석(#!)으로 bash를 사용하겠다는 의미이다

2,3행의 echo 명령은 화면에 출력하게 해준다

4행은 종료 코드 반환

##### 실행 방법

`sh name.sh` 또는 `chmod +x name.sh` 을 한 후에 ./name.sh

<br>

 

#### 변수

- 따로 선언을 하지 않는다
- 변수에 넣은 값은 모두 String취급한다
- 대소문자를 구분한다
- '=' 앞뒤로 공백이 있으면 안된다

<br>

#### 숫자 계산

- 변수가 들어있는 값에 +,-,/,* 등의 연산을 하려면 expr 키워드를 사용해야 하고 `(빽틱) 으로 묶어줘야 한다
  - \`expr 100 + 200\`
- 괄호를 사용할 경우 항상 앞에 \ 를 붙여 주어야 하며 연산기호중 *는 앞에 \를 붙여줘야 한다

<br>

#### if문과 case문

- if 문의 형식은 다음과 같다

```
if [ 조건 ]
then
	참일 경우 실행
else
	거짓인 경우 실행
fi
```

조건문에는 비교 연산자와 산술 연산자 또 파일의 관련된 조건 등을 사용할 수 있다

<br>

- case 문의 형식은 다음과 같다

```
case 변수 in
	case1)
		echo case1;;
	case2)
		echo case2;;
	*)
		echo default;;
esac
exit 0
```

case 부분에 변수의 값이 들어가고 정규 표현식도 가능하다

<br>

#### AND, OR 관계 연산자

- and 는 -a 또는 && 을 사용하고 or은 -o 또는 || 을 사용한다

<br>

#### 반복문

- for~in 의형식은 다음과 같다

```
for 변수 in 값1 값2 값3
do
	반복할 문장
done
```

<br>

- while문

```
while [ 조건 ]
do
	반복할 내용
done
```

<br>

#### 사용자 정의 함수

- 사용자가 직접 함수를 작성하고 호출할 수 있다

```
함수이름() { -> 함수를 정의
	내용들
}
함수이름 -> 함수를 호출
```





